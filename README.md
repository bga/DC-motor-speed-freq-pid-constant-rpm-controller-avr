This Hall sensor based constant RPM controller. Two speed options. Each are individually can be tuned by pot. One button switch speed(no press - idle speed, press - turbo speed). Originally was developed for Attiny13A but can be ported to other AVRs easily.

Staring controller with pushed button run calibration. Controller automatically find min pwm that run motor, also you set max speed by releasing button while controller slowly rise it.

Depends from bga/_cpp and bga/_mcu
